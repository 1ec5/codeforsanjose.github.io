
<!DOCTYPE html>
<html>
<head>
  <title>Projects - Code For San Jose</title>
  <link rel="canonical" href="http://codeforsanjose.com/projects/" />


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
// TODO move to external js file.
// Modified from http://stackoverflow.com/questions/9050763/format-date-in-jquery
function getISODateTime(d){
    // padding function
    var s = function(a,b){return(1e15+a+"").slice(-b)};

    // default date parameter
    if (typeof d === 'undefined'){
        d = new Date();
    };

    // return ISO datetime
    return d.getFullYear() + '-' +
        s(d.getMonth()+1,2) + '-' +
        s(d.getDate(),2);
}
</script>
<script>
// TODO move to external file.
// TODO read excludes list from a file.
function isProjectExcluded(projectName) {
   return projectName == "projecttemplate" || projectName == "dummy";
}
</script>

</head>
<body>

  <h1>Projects - Code for San Jose</h1>

<p>Got an idea for a new project? Post it on our <a href="https://github.com/codeforsanjose/Project-Ideas">GitHub Project Ideas</a> page and then come pitch it to the group at our next <a href="http://www.meetup.com/Code-for-San-Jose/">Civic Hack Night!</a></p>

<ul id="projects">
<script>
// CfA projects endpoint sorts by last updated
$.getJSON("http://codeforamerica.org/api/organizations/Code-for-San-Jose/projects?per_page=999", function(response) {
      $.each(response.objects, function(i, project) {
       // skip excluded projects
       if (!isProjectExcluded(project.name)) {

        var html = " ";
        html += "<h3><a href=" + project.code_url +">" + project.name + "</a></h3>";
        html += "<strong>Description:</strong>  " + project.description;
        html += "<br/><strong>Skills needed:</strong>  " + " coming soon";

        html += "<br/><strong>Language:</strong>  " + project.github_details.language;
        html += "<br/><strong>Source</strong>:  <a href=" + project.code_url + ">" + project.code_url + "</a>";
        
        var lastUpdated = project.last_updated;        
        var numContributors = project.github_details.contributors.length;
        var numOpenIssues = project.github_details.open_issues;
 
        html += "<br/>" +
            "<strong>Last updated</strong> " + getISODateTime(new Date(lastUpdated)) + ",  " +
        	numContributors + " <strong>contributor" + (numContributors == 1 ? "" : "s") + "</strong>,  " +
        	numOpenIssues   + " <strong>open issue"  + (numOpenIssues == 1 ? "" : "s") + "</strong>";

        $("#projects").append(html);
    	}
       })
    });
</script>
</ul>
</body>
</html>



</body>
</html>